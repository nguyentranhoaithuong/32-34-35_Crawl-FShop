from selenium import webdriver
from selenium.common.exceptions import NoSuchElementException
from selenium.webdriver.common.by import By
import requests
import os

# Khởi tạo một trình duyệt Chrome
driver = webdriver.Chrome()

# Tạo thư mục 'html' nếu nó chưa tồn tại
if not os.path.exists('html'):
    os.mkdir('html')

# Đọc danh sách URL từ tệp "link.txt"
# with open('buoc1.txt', 'r') as file:
with open('D:\KPW\BTL/buoc1.txt', 'r') as file:
    urls = file.readlines()

# Lặp qua danh sách URL và lấy mã nguồn của mỗi trang
for i, url in enumerate(urls):
    url = url.strip()  # Loại bỏ ký tự xuống dòng và khoảng trắng

    # Mở trang web
    driver.get(url)

    # Lấy mã nguồn của trang web
    html_source = driver.page_source

    # Tạo tên tệp từ số thứ tự
    file_name = f'Sp_{i + 1}.html'

    # Tạo đường dẫn tới file mới trong thư mục 'html'
    new_file_path = os.path.join('html', file_name)

    # Ghi mã nguồn vào tệp
    with open(new_file_path, 'w', encoding='utf-8') as file:
        file.write(html_source)

# Đóng trình duyệt sau khi hoàn thành
driver.quit()
